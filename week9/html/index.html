<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../Main/css/portfolio.css">
    <title>Document</title>
</head>
<body>
    <header>
        <nav>
            <ul class="nav">
                <li><a class="ham" href="#">&#9776 Menu</a></li>
                <li><a href="../../week1/index.html">Week 1</a></li>
                <li><a href="../../week2/html/index.html">Week 2</a></li>
                <li><a href="../../week3/html/index.html">Week 3</a></li>
                <li><a href="../../week4/html/index.html">Week 4</a></li>
                <li><a href="../../week5/html/index.html">Week 5</a></li>
                <li><a href="../../toDoApp/html/toDoList.html">To Do</a></li>
                <li><a href="../../week7/html/index.html">Week 7</a></li>
                <li><a href="../../week8/html/index.html">Week 8</a></li>
                <li><a href="../../week9/html/index.html">Week 9</a></li>
                <li><a href="../../week10/html/index.html">Week 10</a></li>
                <li><a href="../../week11/html/index.html">Week 11</a></li>
                <li><a href="../../week12/index.html">Week 12</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Week 9</h1>
        <h3>Highlighted Code</h3>
        <p>
            function playSound(e){
                const audioElements = document.querySelectorAll('audio');
                const keyNow = document.querySelector(`.key[data-key="${e.keyCode}"]`);
                let keyname = e.keyCode;
                audioElements.forEach(audio =>{
                    if(keyname != audio.dataset.key) 
                        return;
                    else {
                        audio.currentTime = 0;
                        audio.play();
                        keyNow.classList.add('playing');
                    }
                    if (keyNow.dataset.y == undefined){
                        keyNow.dataset.y = 10;
                    }
                    if (keyNow.dataset.x == undefined){
                        keyNow.dataset.x = 0;
                    }
                    if(keyNow.dataset.x <= 10){
                        keyNow.style.transform = `translateY(${keyNow.dataset.y}px)`;
                        keyNow.dataset.x = 1 + (keyNow.dataset.x*1);
                        keyNow.dataset.y = 10 + (keyNow.dataset.y*1);
                    }
                    else{
                        keyNow.dataset.x = 0;
                        keyNow.dataset.y = 10;
                    }
                })
            }
            function remove(e){
                if(e.propertyName != 'transform') return;
                this.classList.remove('playing');
            }
            const keys = document.querySelectorAll('.key');
            keys.forEach(
                key =>
                    key.addEventListener('transitionend', remove)
            )
            window.addEventListener('keydown', playSound);
            
            
            //Test Code
            
            /* function playSound(e){
                const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
                const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
                if(!audio) return;
                audio.currentTime = 0;
                audio.play();
                key.classList.add('playing');
            };
            function remove(e){
                if(e.propertyName != 'transform') return;
                this.classList.remove('playing');
            }
            const keys = document.querySelectorAll('.key');
            keys.forEach(key => key.addEventListener('transitionend', remove));
            window.addEventListener('keydown', playSound); */
            
            
            function move(){
                const key = document.querySelector('.key');
                for(let i = 0; i < 11; i++){
                    
                    key.style.top = '100px';
                }
            }
        </p>
        <a href="group.html">Group Work</a><br>
        <a href="notes.html">Notes</a>
    </main>
    <script src="../../Main/js/portfolio.js"></script>
</body>
</html>