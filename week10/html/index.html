<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../Main/css/portfolio.css">
    <title>Document</title>
</head>
<body>
    <header>
        <nav>
            <ul class="nav">
                <li><a class="ham" href="#">&#9776 Menu</a></li>
                <li><a href="../../Main/html/portfolio.html">Main</a></li>
                <li><a href="../../week1/index.html">Week 1</a></li>
                <li><a href="../../week2/html/index.html">Week 2</a></li>
                <li><a href="../../week3/html/index.html">Week 3</a></li>
                <li><a href="../../week4/html/index.html">Week 4</a></li>
                <li><a href="../../week5/html/index.html">Week 5</a></li>
                <li><a href="../../toDoApp/html/toDoList.html">To Do</a></li>
                <li><a href="../../week7/html/index.html">Week 7</a></li>
                <li><a href="../../week8/html/index.html">Week 8</a></li>
                <li><a href="../../week9/html/index.html">Week 9</a></li>
                <li><a href="../../week10/html/index.html">Week 10</a></li>
                <li><a href="../../week11/html/index.html">Week 11</a></li>
                <li><a href="../../week12/index.html">Week 12</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Week 10</h1>
        <h3>Highlighted Code</h3>
        <p>
            import { getJSON } from './utilities.js';
// Quake Model
export default class Quake {
  constructor() {
    this.baseUrl =
      'https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2019-01-01&endtime=2019-03-02';
    // this is where we will store the last batch of retrieved quakes in the model. 
    // I don't always do this...in this case the api doesn't have an endpoint to request one quake.
    this._quakes = [];
  }
  async getEarthQuakesByRadius(position, radius = 100) {
    // use the getJSON function and the position provided to build out the correct URL to get the data we need. 
    // Store it into this._quakes, then return it

    // let url = `${this.baseUrl}&latitude=${position.lat}&longitude=${position.lon}&maxradiuskm=${radius}`;
    // this._quakes = getJSON(url).then(result => this._quakes);
    // let fetch_promise = getJSON(url);
    // getJSON(url).then(result => this._quakes);
    // console.log(this._quakes);

    this._quakes = await getJSON(
        this.baseUrl +
          `&starttime=2019-01-01&endtime=2019-03-02&latitude=${
            position.lat
          }&longitude=${position.lon}&maxradiuskm=${radius}`
    );

    // this._quakes = new Promise(resolve => {
    //     let fetch_promise = getJSON(`${this.baseUrl}&latitude=${position.lat}&longitude=${position.lon}&maxradiuskm=${radius}`);
    //     fetch_promise.then(result => {resolve(result)});
    // });

    return this._quakes;
  }
  getQuakeById(id) {
    // filter this._quakes for the record identified by id and return it
    return this._quakes.features.filter(item => item.id === id)[0];
  }
}
        </p>
        <a href="group.html">Group Work</a><br>
        <a href="notes.html">Notes</a>
    </main>
    <script src="../../Main/js/portfolio.js"></script>
</body>
</html>